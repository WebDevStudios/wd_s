"use strict";document.body.className=document.body.className.replace("no-js","js"),window.wdsModal={},function(window,$,app){var $modalToggle,$focusableChildren;app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={body:$("body")}},app.meetsRequirements=function(){return $(".modal-trigger").length},app.bindEvents=function(){app.$c.body.on("click touchstart",".modal-trigger",app.openModal),app.$c.body.on("click touchstart",".close",app.closeModal),app.$c.body.on("keydown",app.escKeyClose),app.$c.body.on("click touchstart","div.modal-open",app.closeModalByClick),app.$c.body.on("keydown",app.trapKeyboardMaybe)},app.openModal=function(){$modalToggle=$(this);var $modal=$($(this).data("target"));$modal.addClass("modal-open"),app.$c.body.addClass("modal-open"),$focusableChildren=$modal.find("a, :input, [tabindex]"),$focusableChildren.length>0&&$focusableChildren[0].focus()},app.closeModal=function(){var $modal=$($("div.modal-open .close").data("target")),$iframe=$modal.find("iframe"),url=$iframe.attr("src");$iframe.attr("src","").attr("src",url),$modal.removeClass("modal-open"),app.$c.body.removeClass("modal-open"),$modalToggle.focus()},app.escKeyClose=function(event){27===event.keyCode&&app.closeModal()},app.closeModalByClick=function(event){$(event.target).parents("div").hasClass("modal-dialog")||app.closeModal()},app.trapKeyboardMaybe=function(event){if(9===event.which&&$(".modal-open").length>0){var $focused=$(":focus"),focusIndex=$focusableChildren.index($focused);console.log($focused,document.activeElement),console.log(focusIndex),0===focusIndex&&event.shiftKey?($focusableChildren[$focusableChildren.length-1].focus(),event.preventDefault()):event.shiftKey||focusIndex!==$focusableChildren.length-1||($focusableChildren[0].focus(),event.preventDefault())}},$(app.init)}(window,jQuery,window.wdsModal),window.wdsSearch={},function(window,$,app){app.init=function(){app.cache(),app.meetsRequirements()&&app.bindEvents()},app.cache=function(){app.$c={body:$("body")}},app.meetsRequirements=function(){return $(".search-field").length},app.bindEvents=function(){app.$c.body.on("focus",".search-field",app.removePlaceholderText),app.$c.body.on("blur",".search-field",app.addPlaceholderText)},app.removePlaceholderText=function(){var $search_field=$(this);$search_field.data("placeholder",$search_field.attr("placeholder")).attr("placeholder","")},app.addPlaceholderText=function(){var $search_field=$(this);$search_field.attr("placeholder",$search_field.data("placeholder")).data("placeholder","")},$(app.init)}(window,jQuery,window.wdsSearch),function(){var isWebkit=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,isOpera=navigator.userAgent.toLowerCase().indexOf("opera")>-1,isIe=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(isWebkit||isOpera||isIe)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var element,id=location.hash.substring(1);/^[A-z0-9_-]+$/.test(id)&&(element=document.getElementById(id),element&&(/^(?:a|select|input|button|textarea)$/i.test(element.tagName)||(element.tabIndex=-1),element.focus()))},!1)}(),window.wdsWindowReady={},function(window,$,app){app.init=function(){app.cache(),app.bindEvents()},app.cache=function(){app.$c={window:$(window),body:$(document.body)}},app.bindEvents=function(){app.$c.window.load(app.addBodyClass)},app.addBodyClass=function(){app.$c.body.addClass("ready")},$(app.init)}(window,jQuery,window.wdsWindowReady);